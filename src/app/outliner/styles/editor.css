.ce-block__content h1 {
  font-size: 2em;
  font-weight: bold;
}

.ce-block__content h2 {
  font-size: 1.5em;
  font-weight: bold;
}

.ce-block__content h3 {
  font-size: 1.17em;
  font-weight: bold;
}

.ce-block__content h4 {
  font-size: 1em;
  font-weight: bold;
}

/* Position block controls on the left */
.ce-toolbar__plus {
  left: -100px !important;
  right: auto !important;
}

.ce-toolbar__actions {
  left: -100px !important;
  right: auto !important;
}

/* Ensure any drag handle variant also sits outside of text */
.ce-toolbar__drag {
  left: -100px !important;
  right: auto !important;
}

/* Make sure negative-offset controls are not clipped */
.ce-block,
.ce-block__content {
  overflow: visible !important;
}

/* Bring controls closer on small screens so they remain visible */
@media (max-width: 640px) {
  .ce-toolbar__plus,
  .ce-toolbar__actions,
  .ce-toolbar__drag {
    left: -20px !important;
  }
}

/* Do not shift content on hover; keep text stationary while controls appear */
/* Previously added padding on hover caused the content to move. */
/* .ce-block:hover .ce-block__content { padding-left: 40px; padding-right: 0; } */

.citation-block {
  position: relative;
  margin: 1em 0;
  padding: 0.5em;
  border-left: 3px solid hsl(var(--border));
}

.citation-text {
  margin-bottom: 0.25em;
}

.citation-reference {
  font-size: 0.9em;
  color: hsl(var(--muted-foreground));
  cursor: help;
}

#current-suggestion-container {
  position: relative;
  display: inline;
}

#current-citation {
  display: inline;
  margin-left: 0.25em;
  font-style: italic;
}

/* Hover effect for citation references */
.citation-reference:hover,
#current-citation:hover {
  color: #1a73e8;
  text-decoration: underline;
  cursor: help;
}

/* Fix EditorJS excessive bottom padding */
.codex-editor__redactor {
  padding-bottom: 50px !important; /* Reduce from default 300px */
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Ensure symmetric padding for editor content */
.ce-block__content {
  margin-left: 0 !important;
  margin-right: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Fix overall editor container padding */
.codex-editor {
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* Ensure blocks have consistent spacing */
.ce-block {
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Theme-aware text colors for EditorJS content */
.editor-container,
.editor-container .codex-editor,
.editor-container .ce-block,
.editor-container .ce-block__content,
.editor-container [contenteditable="true"],
.editor-container .ce-paragraph,
.editor-container .cdx-list__item {
  color: hsl(var(--foreground));
}

/* Headings inside EditorJS (header tool renders real h1..h6) */
.editor-container h1,
.editor-container h2,
.editor-container h3,
.editor-container h4,
.editor-container h5,
.editor-container h6 {
  color: hsl(var(--foreground));
}

/* Links inside EditorJS content */
.editor-container a {
  color: hsl(var(--primary));
}

/* Placeholder text color for empty paragraphs */
.editor-container .ce-paragraph[data-placeholder]:empty::before {
  color: hsl(var(--muted-foreground));
}

/* Custom inline tool styling to match EditorJS defaults */
.ce-inline-tool {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: 3px;
  transition: background-color 0.2s ease;
}

.ce-inline-tool:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.ce-inline-tool svg {
  display: block;
  width: 16px;
  height: 16px;
  stroke: currentColor;
  fill: none;
} 

/* Vertical separator between native inline tools and our AI tools */
.ce-inline-toolbar .ce-inline-tool[data-ai-first="true"] {
  position: relative;
  margin-left: 8px; /* create gap like native groups */
}

.ce-inline-toolbar .ce-inline-tool[data-ai-first="true"]::before {
  content: "";
  position: absolute;
  left: -4px; /* center the divider in the gap */
  top: 4px;
  bottom: 4px;
  width: 1px;
  background: rgba(0, 0, 0, 0.15);
  pointer-events: none; /* do not block clicks */
}

/* Loading skeleton animation */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.loading-skeleton {
  border-radius: 4px;
  overflow: hidden;
  margin: 8px 0;
}

/* Additional skeleton variants */
.skeleton-line {
  height: 16px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 4px;
  margin: 4px 0;
}

.skeleton-line.long {
  width: 80%;
}

.skeleton-line.medium {
  width: 60%;
}

.skeleton-line.short {
  width: 40%;
}

/* Tighten spacing for EditorJS list blocks and items */
/* Remove large vertical gaps around lists and between list items */
.ce-block__content > ul,
.ce-block__content > ol {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding-left: 1.25rem; /* keep readable indent */
}

.ce-block__content li {
  margin-top: 1px;
  margin-bottom: 1px;
}

/* EditorJS List tool specific classes */
.cdx-list {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding-left: 1.25rem;
}

.cdx-list__item {
  margin-top: 1px;
  margin-bottom: 1px;
}

/* Reduce block-level vertical spacing for list blocks only (where :has is supported) */
.ce-block:has(> .ce-block__content > ul),
.ce-block:has(> .ce-block__content > ol),
.ce-block:has(> .ce-block__content > .cdx-list) {
  margin-top: 2px !important;
  margin-bottom: 2px !important;
}